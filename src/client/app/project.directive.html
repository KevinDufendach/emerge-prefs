<link href="/content/style.css" rel="stylesheet">

<div class="md-toolbar-tools" layout-padding layout="row">
  <h1>Sample Report</h1>
  <span flex></span>
  <md-button ng-click="vm.showInstructions()">
    Instructions
  </md-button>
</div>

<!--Format for larger displays-->
<table class="condition-table" md-whiteframe="2" ng-if="$mdMedia('gt-sm')">
  <tbody>
  <tr md-colors="{background: 'primary-A400'}">
    <!--<th>-->
    <!--<md-button-->
    <!--aria-label="Include All"-->
    <!--ng-click="vm.setAll(true)"-->
    <!--class="md-icon-button"-->
    <!--ng-class="{'md-primary md-raised': includeAll}">-->
    <!--<md-tooltip>Include All</md-tooltip>-->
    <!--<md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>-->
    <!--</md-button>-->
    <!--</th>-->
    <!--<th>-->
    <!--<md-button-->
    <!--aria-label="Exclude All"-->
    <!--ng-click="vm.setAll(false)"-->
    <!--class="md-icon-button"-->
    <!--ng-class="{'md-warn md-raised': excludeAll}">-->
    <!--<md-tooltip>Exclude All</md-tooltip>-->
    <!--<md-icon class="s24" aria-label="exclude">block</md-icon>-->
    <!--</md-button>-->
    <!--</th>-->
    <th>Primary Organ(s) or Cancer</th>
    <th>Condition</th>
    <!--<th>Description</th>-->
    <th ng-if="$mdMedia('gt-md')">Preventable</th>
    <th ng-if="$mdMedia('gt-md')">Treatable</th>
    <th ng-if="$mdMedia('gt-md')">Adult Onset</th>
    <!--<th ng-if="$mdMedia('gt-md')">Carrier Status</th>-->
  </tr>
  <tr ng-repeat-start="category in vm.getCategories()">
    <th colspan="100%">
      <h3>{{category}}</h3>
    </th>
  </tr>
  <tr ng-repeat-end ng-repeat="condition in vm.getConditionsByCategory(category)"
      ng-class="(vm.getShownStatus(condition) ? 'shown' : 'not-shown')">
    <!--<td class="center">-->
    <!--<md-button-->
    <!--aria-label="Always include {{::condition.condition}}"-->
    <!--ng-class="{'md-primary md-raised': va['manual_include' + fieldSuffix + '___' + condition.id]}"-->
    <!--ng-click="vm.setManual(condition.id, true)"-->
    <!--class="md-icon-button">-->
    <!--<md-tooltip>Always Include</md-tooltip>-->
    <!--<md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>-->
    <!--</md-button>-->
    <!--</td>-->
    <!--<td class="center">-->
    <!--<md-button-->
    <!--aria-label="Always exclude {{::condition.condition}}"-->
    <!--ng-class="{'md-warn md-raised': va['manual_exclude' + fieldSuffix + '___' + condition.id]}"-->
    <!--ng-click="vm.setManual(condition.id, false)"-->
    <!--class="md-icon-button">-->
    <!--<md-tooltip>Always Exclude</md-tooltip>-->
    <!--<md-icon class="s24" aria-label="exclude">block</md-icon>-->
    <!--</md-button>-->
    <!--</td>-->
    <td class="center">
      <img ng-repeat="organ in condition.organs" class="organ-img" ng-src="{{::vm.getImageUrl(organ)}}"/>
    </td>
    <td>
      <div class="hover-target" style="padding-left: 6px">
        <div class="hover-content"
             ng-class="{'show': va['manual_include' + fieldSuffix + '___' + condition.id]
                || va['manual_exclude' + fieldSuffix + '___' + condition.id]}">
          <md-button
              aria-label="Always report {{::condition.condition}}"
              ng-class="{'md-primary': va['manual_include' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManual(condition.id, true)"
              class="md-icon-button md-raised">
            <md-tooltip>Always report {{::condition.condition}}</md-tooltip>
            <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
          </md-button>
          <md-button
              aria-label="Never report {{::condition.condition}}"
              ng-class="{'md-warn': va['manual_exclude' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManual(condition.id, false)"
              class="md-icon-button md-raised">
            <md-tooltip>Always report {{::condition.condition}}</md-tooltip>
            <md-icon class="s24" aria-label="exclude">block</md-icon>
          </md-button>
        </div>
        <h4 class="condition-header">{{::condition.condition}}</h4>
        <p class="condition-description">{{::condition.description}}</p>
        <div hide-gt-md>
          <!--<div class="md-warn" md-colors="::{color: 'warn'}"-->
          <!--ng-show="(condition.carrier.value && va.adol_carrier != '1'-->
          <!--&& vm.getShownStatus(condition))">Carrier status would not be reported.-->
          <!--</div>-->
          <ul class="tags">
            <li><span ng-class="::{'opacity-10': !condition.preventable}">Preventable</span></li>
            <li><span ng-class="::{'opacity-10': !condition.treatable}">Treatable</span></li>
            <li><span ng-class="::{'opacity-10': !condition.adult_onset}">Adult Onset</span></li>
            <li><span ng-class="::{'opacity-10': !condition.carrier.value}">Carrier Status</span></li>
          </ul>
        </div>
      </div>
      <!--Carrier status-->
      <div ng-if="::condition.carrier.value"
           ng-class="(vm.getShownCarrierStatus(condition) ? 'shown' : 'not-shown')"
           class="hover-target center">
        <div class="hover-content"
             ng-class="{'show': va['man_incl_car' + fieldSuffix + '___' + condition.id]
                  || va['man_excl_car' + fieldSuffix + '___' + condition.id]}">
          <md-button
              aria-label="Always report carrier status for {{::condition.condition}}"
              ng-class="{'md-primary': va['man_incl_car' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManualCarrier(condition.id, true)"
              class="md-icon-button md-raised">
            <md-tooltip>Always report carrier status for {{::condition.condition}}</md-tooltip>
            <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
          </md-button>
          <md-button
              aria-label="Never report carrier status for {{::condition.condition}}"
              ng-class="{'md-warn': va['man_excl_car' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManualCarrier(condition.id, false)"
              class="md-icon-button md-raised">
            <md-tooltip>Always report carrier status for {{::condition.condition}}</md-tooltip>
            <md-icon class="s24" aria-label="exclude">block</md-icon>
          </md-button>
        </div>
        <div layout-padding>
            <span>Carrier status would <span ng-hide="vm.getShownCarrierStatus(condition)">not </span>be reported<span
                ng-show="condition.carrier.label !== ''"> ({{condition.carrier.label}})</span></span>
        </div>
      </div>
    </td>
    <td ng-if="$mdMedia('gt-md')" class="center">
      <md-icon ng-show="::condition.preventable" aria-label="check">check</md-icon>
    </td>
    <td ng-if="$mdMedia('gt-md')" class="center">
      <md-icon ng-show="::condition.treatable" aria-label="check">check</md-icon>
    </td>
    <td ng-if="$mdMedia('gt-md')" class="center">
      <md-icon ng-show="::condition.adult_onset" aria-label="check">check</md-icon>
    </td>
  </tr>
  </tbody>
</table>


<!--Format for small displays-->
<div class="dense" ng-if="!$mdMedia('gt-sm')">
  <section ng-repeat="category in vm.getCategories()">
    <md-subheader class="category-header md-no-sticky">
      <h3>{{::category}}</h3>
    </md-subheader>

    <md-card class="shown hover-target"
             ng-repeat="condition in vm.getConditionsByCategory(category)"
             ng-class="{'not-shown': !vm.getShownStatus(condition)}">
      <div class="hover-content">
        <md-button
            aria-label="Always include {{::condition.condition}}"
            ng-class="{'md-primary': va['manual_include' + fieldSuffix + '___' + condition.id]}"
            ng-click="vm.setManual(condition.id, true)"
            class="md-icon-button md-raised">
          <md-tooltip>Always Include {{::condition.condition}}</md-tooltip>
          <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
        </md-button>
        <md-button
            aria-label="Always exclude {{::condition.condition}}"
            ng-class="{'md-warn': va['manual_exclude' + fieldSuffix + '___' + condition.id]}"
            ng-click="vm.setManual(condition.id, false)"
            class="md-icon-button md-raised">
          <md-tooltip>Always Exclude {{::condition.condition}}</md-tooltip>
          <md-icon class="s24" aria-label="exclude">block</md-icon>
        </md-button>
      </div>
      <md-card-title layout="row">
        <md-card-title-text>
          <h4 class="condition-header">{{::condition.condition}}</h4>
        </md-card-title-text>
        <img ng-repeat="organ in condition.organs" class="organ-img" style="float:right"
             ng-src="{{::vm.getImageUrl(organ)}}"/>
      </md-card-title>
      <md-card-content>
        <p class="condition-description">{{::condition.description}}</p>
      </md-card-content>
      <md-card-actions layout="row">
        <ul class="tags">
          <li><span ng-class="::{'opacity-10': !condition.preventable}">Preventable</span></li>
          <li><span ng-class="::{'opacity-10': !condition.treatable}">Treatable</span></li>
          <li><span ng-class="::{'opacity-10': !condition.adult_onset}">Adult Onset</span></li>
          <li><span ng-class="::{'opacity-10': !condition.carrier.value}">Carrier Status</span></li>
        </ul>
        <div flex></div>
      </md-card-actions>
      <!--Carrier Status bar-->
      <div ng-if="::condition.carrier.value" class="center shown hover-target"
           ng-class="(vm.getShownCarrierStatus(condition) ? 'shown' : 'not-shown')">
        <div class="hover-content"
             ng-class="{'show': va['man_incl_car' + fieldSuffix + '___' + condition.id]
                || va['man_excl_car' + fieldSuffix + '___' + condition.id]}">
          <md-button
              aria-label="Always report carrier status for {{::condition.condition}}"
              ng-class="{'md-primary': va['man_incl_car' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManualCarrier(condition.id, true)"
              class="md-icon-button md-raised">
            <md-tooltip>Always Include {{::condition.condition}}</md-tooltip>
            <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
          </md-button>
          <md-button
              aria-label="Never report carrier status for {{::condition.condition}}"
              ng-class="{'md-warn': va['man_excl_car' + fieldSuffix + '___' + condition.id]}"
              ng-click="vm.setManualCarrier(condition.id, false)"
              class="md-icon-button md-raised">
            <md-tooltip>Always Exclude {{::condition.condition}}</md-tooltip>
            <md-icon class="s24" aria-label="exclude">block</md-icon>
          </md-button>
        </div>
        <div layout-padding>
          <span>Carrier status would <span ng-hide="vm.getShownCarrierStatus(condition)">not </span>be reported<span
              ng-show="condition.carrier.label !== ''"> ({{condition.carrier.label}})</span></span>
        </div>
      </div>
    </md-card>
  </section>
</div>


<!--<md-list ng-if="false && !$mdMedia('gt-sm')" flex>-->
<!--<md-card ng-repeat="condition in vm.getConditions()" ng-class="{'not-shown': !vm.getShownStatus(condition)}">-->
<!--<md-card-title layout="row">-->
<!--<md-card-title-text>-->
<!--<h4 class="condition-header">{{::condition.condition}}</h4>-->
<!--</md-card-title-text>-->
<!--<span flex></span>-->
<!--<img ng-repeat="organ in condition.organs" class="organ-img" ng-src="{{::vm.getImageUrl(organ)}}"/>-->
<!--</md-card-title>-->
<!--<md-card-content>-->
<!--<p class="condition-description">{{::condition.description}}</p>-->
<!--<div ng-if="::condition.carrier.value" class="center"-->
<!--ng-class="(condition.carrier.value && (va['carrier' + fieldSuffix] != '1') ? 'not-shown' : 'shown')">-->
<!--<span>Carrier status would <span ng-show="va['carrier' + fieldSuffix] != '1'">not </span>be reported<span-->
<!--ng-show="condition.carrier.label !== ''"> ({{condition.carrier.label}})</span></span>-->
<!--</div>-->
<!--</md-card-content>-->
<!--<md-card-actions layout="row">-->
<!--<ul class="tags">-->
<!--<li><span ng-class="::{'opacity-10': !condition.preventable}">Preventable</span></li>-->
<!--<li><span ng-class="::{'opacity-10': !condition.treatable}">Treatable</span></li>-->
<!--<li><span ng-class="::{'opacity-10': !condition.adult_onset}">Adult Onset</span></li>-->
<!--<li><span ng-class="::{'opacity-10': !condition.carrier.value}">Carrier Status</span></li>-->
<!--</ul>-->
<!--<span flex></span>-->
<!--<md-button-->
<!--aria-label="Always include {{::condition.condition}}"-->
<!--ng-class="{'md-primary md-raised': va['manual_include' + fieldSuffix + '___' + condition.id]}"-->
<!--ng-click="vm.setManual(condition.id, true)"-->
<!--class="md-icon-button">-->
<!--<md-tooltip>Always Include</md-tooltip>-->
<!--<md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>-->
<!--</md-button>-->
<!--<md-button-->
<!--aria-label="Always exclude {{::condition.condition}}"-->
<!--ng-class="{'md-warn md-raised': va['manual_exclude' + fieldSuffix + '___' + condition.id]}"-->
<!--ng-click="vm.setManual(condition.id, false)"-->
<!--class="md-icon-button">-->
<!--<md-tooltip>Always Exclude</md-tooltip>-->
<!--<md-icon class="s24" aria-label="exclude">block</md-icon>-->
<!--</md-button>-->
<!--</md-card-actions>-->
<!--</md-card>-->
<!--</md-list>-->