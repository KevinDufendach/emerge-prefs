<link href="/content/style.css" rel="stylesheet">

<h1>My Report</h1>
<div layout="row">
  <h4>A sample of conditions which may appear on a report</h4>
  <span flex></span>
  <md-button hide-gt-sm
             aria-label="Include All"
             ng-click="vm.setAll(true)"
             class="md-icon-button"
             ng-class="{'md-primary md-raised': includeAll}">
    <md-tooltip>Include All</md-tooltip>
    <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
  </md-button>
  <md-button hide-gt-sm
             aria-label="Exclude All"
             ng-click="vm.setAll(false)"
             class="md-icon-button"
             ng-class="{'md-warn md-raised': excludeAll}">
    <md-tooltip>Exclude All</md-tooltip>
    <md-icon class="s24" aria-label="exclude">close</md-icon>
  </md-button>
</div>

<table class="condition-table" ng-if="$mdMedia('gt-sm')">
  <tbody>
  <tr>
    <th>
      <md-button
          aria-label="Include All"
          ng-click="vm.setAll(true)"
          class="md-icon-button"
          ng-class="{'md-primary md-raised': includeAll}">
        <md-tooltip>Include All</md-tooltip>
        <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
      </md-button>
    </th>
    <th>
      <md-button
          aria-label="Exclude All"
          ng-click="vm.setAll(false)"
          class="md-icon-button"
          ng-class="{'md-warn md-raised': excludeAll}">
        <md-tooltip>Exclude All</md-tooltip>
        <md-icon class="s24" aria-label="exclude">close</md-icon>
      </md-button>
    </th>
    <th>Primary Organ(s) or Cancer</th>
    <th>Condition</th>
    <th>Description</th>
    <!--<th>Preventable</th>-->
    <!--<th>Treatable</th>-->
    <!--<th>Adult Onset</th>-->
    <!--<th>Carrier Status</th>-->
  </tr>
  <tr ng-repeat="condition in vm.getConditions()"
      ng-class="{'not-shown': !vm.getShownStatus(condition)}">
    <td class="td-center">
      <md-button
          aria-label="Always include {{condition.condition}}"
          ng-class="{'md-primary md-raised': va.manual_include[condition.id]}"
          ng-click="vm.setManual(condition.id, true)"
          class="md-icon-button">
        <md-tooltip>Always Include</md-tooltip>
        <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
      </md-button>
    </td>
    <td class="td-center">
      <md-button
          aria-label="Always exclude {{condition.condition}}"
          ng-class="{'md-warn md-raised': va.manual_exclude[condition.id]}"
          ng-click="vm.setManual(condition.id, false)"
          class="md-icon-button">
        <md-tooltip>Always Exclude</md-tooltip>
        <md-icon class="s24" aria-label="exclude">close</md-icon>
      </md-button>
    </td>
    <td class="td-center"><img ng-repeat="organ in condition.organs" class="organ-img"
                               ng-src="{{vm.getImageUrl(organ)}}"/></td>
    <td>{{condition.condition}}</td>
    <td>
      <p>{{condition.description}}</p>
      <div class="md-warn" md-colors="::{color: 'warn'}"
           ng-show="(condition.carrier && va.adol_carrier != '1'
            && vm.getShownStatus(condition))">Carrier status would not be reported.</div>
      <ul class="tags">
        <li><span ng-class="::{'opacity-10': !condition.preventable}">Preventable</span></li>
        <li><span ng-class="::{'opacity-10': !condition.treatable}">Treatable</span></li>
        <li><span ng-class="::{'opacity-10': !condition.adult_onset}">Adult Onset</span></li>
        <li><span ng-class="::{'opacity-10': !condition.carrier}">Carrier Status</span></li>
      </ul>
    </td>
    <!--<td class="td-center">-->
      <!--<md-icon ng-show="condition.preventable" aria-label="check">check</md-icon>-->
    <!--</td>-->
    <!--<td class="td-center">-->
      <!--<md-icon ng-show="condition.treatable" aria-label="check">check</md-icon>-->
    <!--</td>-->
    <!--<td class="td-center">-->
      <!--<md-icon ng-show="condition.adult_onset" aria-label="check">check</md-icon>-->
    <!--</td>-->
    <!--<td class="td-center" ng-class="{'not-shown': condition.carrier && (va.adol_carrier != '1')}">-->
      <!--<md-icon ng-show="condition.carrier" aria-label="check">check</md-icon>-->
    <!--</td>-->
  </tr>
  </tbody>
</table>

<md-list ng-if="!$mdMedia('gt-sm')">
  <md-card ng-repeat="condition in vm.getConditions()" ng-class="{'not-shown': !vm.getShownStatus(condition)}">
    <md-card-title>
      <md-card-title-text>
        <span class="md-headline">{{condition.condition}}</span>
      </md-card-title-text>
    </md-card-title>
    <md-card-content>
      <p>{{condition.description}}</p>
      <div class="md-warn" md-colors="::{color: 'warn'}"
           ng-show="(condition.carrier && va.adol_carrier != '1'
            && vm.getShownStatus(condition))">Carrier status would not be reported.</div>
    </md-card-content>
    <md-card-actions layout="row">
      <ul class="tags">
        <li><span ng-class="::{'opacity-10': !condition.preventable}">Preventable</span></li>
        <li><span ng-class="::{'opacity-10': !condition.treatable}">Treatable</span></li>
        <li><span ng-class="::{'opacity-10': !condition.adult_onset}">Adult Onset</span></li>
        <li><span ng-class="::{'opacity-10': !condition.carrier}">Carrier Status</span></li>
      </ul>
      <span flex></span>
      <md-button
          aria-label="Always include {{condition.condition}}"
          ng-class="{'md-primary md-raised': va.manual_include[condition.id]}"
          ng-click="vm.setManual(condition.id, true)"
          class="md-icon-button">
        <md-tooltip>Always Include</md-tooltip>
        <md-icon md-svg-src="/content/img/pin.svg" class="s24" aria-label="pin"></md-icon>
      </md-button>
      <md-button
          aria-label="Always exclude {{condition.condition}}"
          ng-class="{'md-warn md-raised': va.manual_exclude[condition.id]}"
          ng-click="vm.setManual(condition.id, false)"
          class="md-icon-button">
        <md-tooltip>Always Exclude</md-tooltip>
        <md-icon class="s24" aria-label="exclude">close</md-icon>
      </md-button>
    </md-card-actions>
  </md-card>
</md-list>

<!--<textarea cols="80" rows="30">{{va | json}}</textarea>-->
<!--<span ng-repeat="condition in vm.getConditions()">{{condition.id}}, {{condition.condition}} | </span>-->